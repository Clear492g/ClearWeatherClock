# [ClearWeatherClock]拟辉光管气象钟开源文档

## 效果图

![效果图](http://123.127.160.202:8006/images/2021/03/31/111.gif)



## 简述

该项目基于立创开源拟辉光钟项目和零知实验室开源ESP8266气象站项目。

只作为Demo版本发布 更多特效、功能欢迎各位有能力的朋友继续二次开发

- 核心主控为NodeMCU/ESP8266开发板 底座体积足够就没有额外画PCB（1688的NodeMCU七八块钱）
- WIFI联网 EEPROM断电保存 串口通讯
- 驱动120颗WS2812灯珠实现亚克力数字时钟展示 亮度可调 颜色可独立更改 断电记忆
- 加入旋钮通过ADC控制整体灯光亮度 预留开关位置
- 驱动0.96寸OLED屏幕作为副屏 显示更多的内容
- 驱动DHT11/22获取室内温度和湿度 OLED左右下脚
- 基于Qt编写上位机程序 功能见图

![上位机](http://123.127.160.202:8006/images/2021/03/31/5KXP_BNWCULJVZIV.png)

***

## 硬件准备

> 链接什么的我找找  尽量找到可以准确的我测试没问题的 先暂时这么看着

1. ESP8266开发板 *1
2. 0.96 OLED 1306屏幕  *1
3. DHT11/22 温湿度传感器 *1
4. 旋钮电位器 *1
5. 带WS2812的灯板PCB *3
6. 亚克力数字0-9 *6
7. 亚克力外壳、束光板等套装 *1
8. M3螺柱 M3螺钉若干
9. 杜邦线、电烙铁等各种工具



> 这个表可能是对的  抽空我会再整理下的

| 名称                                                | 数量 | 单价 | 每套总价 | 库存余量 | 库存余套 |
| --------------------------------------------------- | ---- | ---- | -------- | -------- | -------- |
| 灯板PCB+元件+SMT（WS2812  0.1u电容（0805贴片））    | 3    | 22   | 66       | 26坏1    | 8        |
| XH4A连接座/排针  +   排线                           | 6    | /    | 3        | 0        | 0        |
| WH138 10K+铝电位器旋钮（15*17）                     | 1    | 2    | 2        | 12       | 12       |
| 小正方体1CM 用于固定底座                            | 10   | 0.2  | 2        | 60       | 6        |
| 亚克力套装（数字加束光+底座）                       | 1    |      |          | 0        | 0        |
| OLED 0.96 SSD 1306（IIC）                           | 1    | 10   | 10       | 9        | 9        |
| ESP8266（NodeMCU/ESP12E）                           | 1    | 13   | 13       | 7        | 7        |
| 螺丝铜柱等（M3*55铜柱*12 M3*12螺丝*26   M3螺母*24） | 1    | 11   | 11       | 10       | 10       |
| 脚垫 12mm*5mm                                       | 4    | 0.15 | 1        | 64       | 16       |
| 防尘网                                              | 1    | 1    | 1        | 24       | 24       |
| DHT11（3线）                                        | 1    | 4    | 4        | 0        | 0        |

## 附件结构

/QtPro：上位机源代码

/ESPArduino: 单片机的源代码

/QtBin：上位机打包好的程序

/ESPBin：单片机打包好的固件及工具

## 使用说明

1. 完成硬件组装 确保硬件正确连接
2. 向单片机烧录固件 
3. Windows平台安装上位机程序    **同时安装串口驱动CH340/CP2102**
4. 上位机通过串口连接气象钟 Load载入当前参数 按需修改WIFI/天气API等参数
5. 调节亮度/颜色等

